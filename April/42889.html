<html>
  <head>
    <meta charset="UTF-8" />
    <title>출력결과</title>
  </head>
  <body>
    <script>
      function solution(n, stages) {
        let answer = [];
        let num = stages.length; //참가자 수
        //첫번째 케이스
        for (let i = 1; i <= n; i++) {
          let nonClearer = stages.reduce(
            (cnt, element) => cnt + (i === element),
            0
          );
          let result = nonClearer / num;
          num -= nonClearer;
          answer.push([i, result]);
        }

        answer.sort((a, b) => {
          if (a[1] === b[1]) return a[0] - b[0];
          else return b[1] - a[1];
        });
        answer = answer.map((a) => a[0]);
        return answer;
      }
      let stages = [2, 1, 2, 6, 2, 4, 3, 3]; //사용자가 멈춰있는 단계 , 6은 클리어 한 사람
      let n = 5; // 전체 스테이지 개수 1,2,3,4,5
      console.log(solution(n, stages));
    </script>
  </body>
</html>
